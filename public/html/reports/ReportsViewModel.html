<!--
  ~ Copyright 2018 Dropbox, Inc.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="container-fluid">
    <div class="row">
        <div class="container col-md-offset-1 col-md-10">
            <h2>Reports</h2>
            <!--Header for search-->
            <!--<div class="col-md-12 col-sm-12 col-lg-12 search-header">-->
                <!--<form role="form" class="form-inline">-->
                    <!--<div class="form-group has-feedback">-->
                        <!--<input class="form-control" data-bind="value: searchExpression, valueUpdate: 'keyup'" type="text" placeholder="Search">-->
                        <!--<span class="glyphicon glyphicon-search form-control-feedback"></span>-->
                    <!--</div>-->
                <!--</form>-->
            <!--</div>-->
            <div><a href="#report/edit" class="btn btn-default" style="margin-bottom: .5em">New Report</a></div>
            <table class="table table-hover">
                <tr class="row">
                    <th class="col-md-3">ID</th>
                    <th class="col-md-1">Name</td>
                    <th class="col-md-1">Source</td>
                    <th class="col-md-1">Schedule Type</td>
                    <th class="col-md-2">From</td>
                    <th class="col-md-2">Until</td>
                    <th class="col-md-2">Recipients</td>
                    <th class="hidden"></th>
                </tr>
                <!-- ko foreach: reports.filteredEntities -->
                <tr class="row">
                    <td data-bind="text: id"></td>
                    <td data-bind="text: name"></td>
                    <td>
                        <span data-bind="text: source.title"></span>
                        <div class="popover-content hidden" data-bind="attr: {'data-id': 'source-'+id}">
                            <dl class="container col-md-12 dl-horizontal">
                                <dt>url:</dt><dd data-bind="text: source.url"></dd>
                                <dt>event:</dt><dd data-bind="text: source.eventName"></dd>
                                <dt>ignore cert errors:</dt><dd data-bind="text: source.ignoreCertificateErrors"></dd>
                            </dl>
                        </div>
                        <span class="glyphicon glyphicon-info-sign"
                              data-title="Source details"
                              data-html="true"
                              data-bind="popover: {id: 'source-'+id}"
                              data-trigger="hover"></span>
                    </td>
                    <td>
                        <span data-bind="text: schedule.displayType"></span>
                    </td>
                    <td>
                        <span data-bind="text: schedule.start"></span>
                    </td>
                    <td>
                        <span data-bind="text: schedule.end"></span>
                    </td>
                    <td data-bind="foreach: recipients">
                        <span class="badge" data-bind="text: badgeText"></span>
                    </td>
                    <td>
                        <a data-bind="attr: { href: editUri }">
                            <i class="fa fa-pencil-square-o"></i>
                        </a>
                    </td>
                </tr>
                <!-- /ko -->
            </table>
        </div>
    </div>
</div>
